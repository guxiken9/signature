<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="ブラウザ上で動作する署名パッドのデモアプリケーション。PC・タブレット・スマートフォンでの署名入力に対応。">
  <meta name="keywords" content="署名パッド,デジタル署名,Canvas,JavaScript">
  <meta name="author" content="Your Company">
  <meta name="robots" content="index, follow">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="署名パッドサンプル">
  <meta property="og:description" content="ブラウザ上で動作する署名パッドのデモアプリケーション">
  <meta property="og:site_name" content="Signature Pad Demo">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="署名パッドサンプル">
  <meta name="twitter:description" content="ブラウザ上で動作する署名パッドのデモアプリケーション">

  <!-- Security -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self'; img-src 'self' data: blob:; connect-src 'self'; font-src 'self'; object-src 'none'; base-uri 'self'; form-action 'self'; frame-ancestors 'none';">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta name="referrer" content="strict-origin-when-cross-origin">

  <title>署名パッドサンプル - Signature.js デモ</title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>署名パッドサンプル</h1>
      <p class="subtitle">Signature.js デモアプリケーション</p>
      <p class="note">PC・タブレット・スマートフォン対応</p>
    </header>

    <main>
      <section class="signature-section">
        <h2>署名エリア</h2>
        <p id="sig-description" class="description">
          下記のエリアにマウス、指、またはペンで署名してください。
        </p>

        <div class="canvas-wrapper">
          <canvas id="canvasBg" width="600" height="300" aria-describedby="sig-description"></canvas>
          <canvas id="canvas" width="600" height="300"></canvas>
        </div>

        <div class="button-group" role="group" aria-label="署名キャプチャ操作">
          <button id="startBtn" class="btn btn-primary" aria-label="署名キャプチャを開始">キャプチャ開始</button>
          <button id="stopBtn" class="btn btn-secondary" aria-label="署名キャプチャを停止">キャプチャ停止</button>
          <button id="undoBtn" class="btn btn-secondary" aria-label="最後のストロークを取り消し">取り消し</button>
          <button id="clearBtn" class="btn btn-secondary" aria-label="すべての署名をクリア">クリア</button>
        </div>

        <div class="info-panel">
          <div class="info-item">
            <span class="label">キャプチャ状態:</span>
            <span id="captureStatus" class="value">停止中</span>
          </div>
          <div class="info-item">
            <span class="label">ストローク数:</span>
            <span id="strokeCount" class="value">0</span>
          </div>
          <div class="info-item">
            <span class="label">点数:</span>
            <span id="pointCount" class="value">0</span>
          </div>
          <div class="info-item">
            <span class="label">データサイズ:</span>
            <span id="dataSize" class="value">0 KB</span>
          </div>
        </div>
      </section>

      <section class="settings-section">
        <h2>描画設定</h2>
        <div class="settings-grid">
          <div class="setting-item">
            <label for="colorPicker">線の色:</label>
            <input type="color" id="colorPicker" value="#000000">
          </div>
          <div class="setting-item">
            <label for="thickness">線の太さ:</label>
            <input type="range" id="thickness" min="1" max="10" value="2">
            <span id="thicknessValue">2</span>
          </div>
          <div class="setting-item">
            <label for="canvasWidth">キャンバス幅:</label>
            <input type="number" id="canvasWidth" min="200" max="1200" value="600">
          </div>
          <div class="setting-item">
            <label for="canvasHeight">キャンバス高さ:</label>
            <input type="number" id="canvasHeight" min="100" max="800" value="300">
          </div>
        </div>
        <button id="resizeBtn" class="btn btn-secondary">サイズを適用</button>
      </section>

      <section class="preview-section">
        <h2>画像プレビュー</h2>
        <div id="previewArea" class="preview-area">
          <p class="placeholder">署名を入力すると、ここにプレビューが表示されます</p>
        </div>
      </section>

      <section class="data-section">
        <h2>署名データ（JSON）</h2>
        <div class="data-display">
          <pre id="jsonDisplay" class="json-output">{
  "width": 600,
  "height": 300,
  "dpi": 96,
  "strokes": []
}</pre>
        </div>
        <div class="button-group" role="group" aria-label="データ操作">
          <button id="copyJsonBtn" class="btn btn-secondary" aria-label="署名データのJSONをクリップボードにコピー">JSONをコピー</button>
          <button id="sendBtn" class="btn btn-primary" aria-label="署名データをAPIに送信">APIに送信</button>
        </div>
        <div id="status" class="status-message" role="status" aria-live="polite" aria-atomic="true"></div>
      </section>
    </main>

    <footer>
      <p>&copy; 2025 Signature Pad Demo. All rights reserved.</p>
      <p class="footer-note">このアプリケーションはデモンストレーション目的です。実際の署名データは保存されません。</p>
    </footer>
  </div>

  <script src="/js/signature.js"></script>
  <script src="/js/app.js"></script>
</body>
</html>
